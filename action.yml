name: 'GCP PubSub Github Action'
description: 'Queue GCP PubSub Message from Github Actions'
inputs:
  sa-key: 
    description: 'Service Account Key'
    required: true
  project-id: 
    description: 'GCP Project ID'
    required: true
  pubsub-topic:
    description: 'PubSub Topic name'
    required: true
  message-body: 
    description: 'PubSub message body'
    required: true
runs:
  using: 'composite'
  steps:
    - name: Setup Google Cloud
      uses: google-github-actions/setup-gcloud@v0
    - name: Use Node.js 16
      uses: actions/setup-node@v2
      with:
        node-version: 16
    - run: 'node index.js'
      shell: bash